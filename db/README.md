# BASIC



## SQL의 종류

##### DDL(Data Definition Language)

- 데이터 정의어라고 하며, 테이블 등(SCHEMA, DOMAIN, TABLE, VIEW, INDEX 등)을 생성, 수정, 삭제하는 등 데이터의 전체 골격을 결정하는 역할
- `CREATE`: 데이터베이스, 테이블 등을 생성하는 역할
- `ALTER`: 테이블을 수정하는 역할
- `DROP`: 데이터베이스, 테이블을 삭제하는 역할
- `TRUNCATE`: 테이블을 초기화시키는 역할



##### DML(Data Manipulation Language)

- 정의된 데이터베이스에 입력된 레코드를 조회, 수정, 삭제하는 역할
- `SELECT`: 데이터 조회
- `INSERT`: 데이터 삽입
- `UPDATE`: 데이터 수정
- `DELETE`: 데이터 삭제



##### DCL(Data Control Language)

- 데이터베이스에 접근하거나 객체에 권한을 주는 등의 역할
- `GRANT`: 특정 데이터베이스 사용자에게 특정 작업에 대한 수행권한 부여
- `REVOKE`: 특정 데이터베이스 사용자에게 특정 작업에 대한 수행 권한을 박탈, 회수
- `COMMIT`: 트랜잭션의 작업을 저장
- `ROLLBACK`: 트랜잭션의 작업을 취소 및 원래대로 복구



## transaction

##### transaction이란?

- 작업의 완전성을 보장해주는 것
- 논리적인 작업 셋을 모두 완벽하게 처리하거나 또는 처리하지 못할 경우에는 원 상태로 복구해서 작업의 일부만 적용되는 현상이 발생하지 않게 만들어주는 기능



##### transaction & lock

- lock

  - 동시성을 제어하기 위한 기능
  - 여러 커넥션에서 동시에 동일한 자원을 요청할 경우 순서대로 한 시점에는 하나의 커넥션만 변경할 수 있게 해주는 것

- transaction

  - 데이터의 정합성을 보장하기 위한 기능
  - 하나의 논리적인 작업 셋(1~n개의 쿼리)이 100% 적용되거나 아무것도 적용되지 않아야 함을 보장

  

##### transaction의 특성(ACID)

- 원자성(Atomicity)
  - 중간에 문제가 발생하면 트랜잭션에 해당하는 어떠한 작업 내용도 수행되어선 안됨
  - 작업 단위가 모두 이루어지거나 이루어지지 않아야 함
- 일관성(Consistency)
  - 트랜잭션이 완료된 다음의 상태에서도 트랜잭션이 일어나기 전의 상황과 동일하게 데이터의 일관성을 보장해야 함(예를 들어 무결성 제약이 모든 계좌가 잔고가 있어야 한다면 이를 위반하는 트랜잭션이 중단되는 것)
- 고립성(Isolation)
  - 각각의 트랜잭션은 서로 간섭없이 독립적으로 수행되어야 함
- 지속성(Durability)
  - 트랜잭션이 정상적으로 종료된 뒤에는 영구적으로 데이터베이스에 작업의 결과가 저장되어야 함

<br>

## 데이터 유형

##### CHARACTER(n)

- 고정 길이 문자열
- n만큼의 길이를 갖고 할당된 변수값의 길이가 n보다 작은 경우 그 차이만큼 공백으로 채움
  - `ORACLE` : 1 Byte <= n <= 2000 Byte
  - `SQL Server` : 1 Byte <= n <= 8,000 Byte





## ETC

##### DB 서버 or 사용자 접속 종료 시

- 정전 등으로 DB 서버 자체가 종료되면 SMON이 작동하여 재실행 시 redo 파일시스템 영역에 기록된 것까지 메모리에 다시 올려 복구
- 트랜잭션 중 사용자의 접속이 강제로 끊기면 commit되지 않은 데이터는 rollback

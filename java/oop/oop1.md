# 객체지향언어1

> 주요 특징
>
> - 코드의 재사용성이 높음
> - 코드의 관리가 용이(코드 간의 관계를 이용해서 쉽게 코드 변경 가능)
> - 신뢰성이 높은 프로그래밍 가능
>   - 제어자와 메서드를 이용해 데이터를 보호하고 올바른 값을 유지하도록 하며, 코드의 중복을 제거해 코드의 불일치로 인한 오동작 방지



## Class, Object, Instance

> 클래스 : 객체를 정의해 놓은 것(설계도), 객체를 생성하는 데 사용
>
> 객체 : 실제로 존재하는 것, 객체가 갖고 있는 기능과 속성을 사용
>
> 인스턴스 : 클래스로부터 객체를 만드는 과정을 인스턴스화(instantiate)라고 하며, 어떤 클래스로부터 만들어진 객체를 그 클래스의 인스턴스라 함.
>
> ```txt
> 프로그래밍 언어에서 데이터 처리를 위한 데이터 저장형태의 발전은 '변수(하나의 데이터 저장)' -> '배열(같은 종류의 데이터 저장)' -> '구조체(종류와 상관없이 저장)' -> '클래스(구조체+함수)'로 진행되어옴\
> ```



##### 객체의 구성요소

> 속성과 기능 두 종류의 구성요소로 이루어짐. 객체는 속성과 기능의 집합이라 할 수 있음

- 속성 : 멤버변수(member variable), 특성(attribute), 필드(field), 상태(state)
- 기능 : 메서드(method), 함수(function), 행위(behavior)



##### 인스턴스의 생성과 사용

```java
// 클래스명 변수명;
// 변수명 = new 클래스명();

Tv t;  // Tv 클래스 타입의 참조변수 t 선언
t = new TV();  // Tv인스턴스 생성 후, 생성된 Tv인스턴스의 주소를 t에 저장

class Tv {
    String color;
    boolean power;
    
    void power() {
        power = !power;
    };
};
```



##### 객체 배열

```java
// 객체 역시 배열로 다룰 수 있고, 배열의 각 index에는 객체의 주소가 저장됨
Tv tv1, tv2, tv3;
Tv[] tvArr = new Tv[3];

// 위 상태는 배열의 값에 참조될 주소값을 가진 인스턴스가 생성된 것은 아님
// 아래와 같이 인스턴스화하여 할당해야 함
for (int i = 0; i < tvArr.length; i++) {
    tvArr[i] = new Tv();
}
```



## 변수와 메서드

##### 선언위치에 따른 변수의 종류

```java
class Variables
{
    static int cv;
    int iv;
    
    void method()
    {
        int lv = 0;
    }
    
}
```

- 클래스변수(class variable)
  - 모든 인스턴스가 공통된 저장공간(변수)을 공유
  - 한 클래스의 모든 인스턴스들이 공통적인 값을 유지해야 하는 속성의 경우 cv로 선언
  - 인스턴스를 생성하지 않고 바로 사용 가능(e.g. Variables.cv)
- 인스턴스변수(instance variable)
  - 클래스 영역에 선언되며, 클래스의 인스턴스를 생성할 때 만들어짐
  - 인스턴스는 독립된 메모리를 가지고, 인스턴스마다 고유의 속성을 유지해야하는 경우 인스턴스변수로 선언
- 지역변수(local variable)
  - 메서드 내에서 선언되어 메서드 내에서만 사용 가능



##### 변수의 초기화

- 멤버변수(클래스변수, 인스턴스변수)와 배열의 초기화는 선택적이지만, 지역 변수의 초기화는 필수적
- 멤버 변수와 배열은 컴파일러가 각 타입의 기본값으로 초기화를 해주지만, 지역변수는 그렇지 않음
- 각 타입의 기본값(default value)
  - boolean(false), char('u\0000'), byte/short/int(0), long(0L), float(0.0f), double(0.0), 참조형변수(null)

- 명시적 초기화(explicit initialization)

  - 변수를 선언과 동시에 초기화하는 것

- 초기화 블럭(initialization block)

  ```java
  Car() {
      static {}  // 클래스 초기화 블럭
      {}  // 인스턴스 초기화 블럭
  }
  ```

  - 클래스 초기화 블럭은 클래스가 메모리에 처음 로딩될 때 한 번만 수행, 인스턴스 초기화 블럭은 생성자와 같이 인스턴스를 생성할 때마다 수행(인스턴스 초기화 블럭 -> 생성자 순 실행)

  - 모든 생성자에서 공통으로 수행되어야 하는 코드를 넣는 데 사용



##### 메서드(method)

- 특정 작업을 수행하는 일련의 문장들을 하나로 묶은 것

- 장점
  - 높은 재사용성
  - 중복된 코드의 제거
  - 프로그램의 구조화
- 선언과 구현
  - 선언부(method header/declaration), 구현부(method body)로 나뉨
  - 선언부
    - 메서드 이름, 매개변수 선언, 반환타입으로 구성
    - 반환 타입이 없는 경우 void
  - 구현부
    - 반환 타입이 void가 아닌 경우 반드시 return(컴파일러가 자동 추가)
    - 리턴 값의 타입은 반환타입과 일치하거나 캐스팅 가능한 것이어야 함
- 인자(argument)와 매개변수(parameter)
  - 인자: 메서드 호출 시 실제 전달되는 값
  - 매개변수 : 메서드 정의에서 나열되는 변수명

- 클래스 메서드(static) vs 인스턴스 메서드
  - 클래스 메서드
    - 객체 생성하지 않고도 `Class.method()` 방식으로 호출 가능
    - 보통 인스턴스와 관계 없는 메서드 정의 시 사용
    - 메서드 내에서 인스턴스 변수를 사용하지 않는다면 static을 붙이는 것을 고려하는데, 이는 메서드 호출 시간이 짧아져 성능상 이점이 있기 때문임
  - 인스턴스 메서드
    - 메서드의 작업을 수행하는 데 인스턴스 변수를 필요로 하는 메서드(인스턴스 변수가 필요하다면 반드시 인스턴스가 생성되어야 하기 때문)



##### 생성자(Constructor)

> 인스턴스가 생성될 때 호출되는 '인스턴스 초기화 메서드'
>
> 생성자의 이름은 클래스 이름과 같고, 리턴 값이 없음

```java
class Card {
    Card() {}  // 매개변수가 없는 생성자
    Card(String k, int num) {}  // 매개변수가 있는 생성자
}

Card c = new Card();
// 1.연산자 new에 의해서 메모리(heap)에 Card클래스의 인스턴스 생성
// 2.생성자 Card()가 호출되어 수행됨
// 3.연산자 new의 결과로, 생성된 Card인스턴스의 주소가 반환되어 참조변수 c에 저장
```



- 기본생성자(default constructor)

  - 컴파일 시 소스파일(*.java)의 클래스에 생성자가 하나도 정의되지 않은 경우 컴파일러는 자동으로 기본 생성자 추가하여 컴파일

- 매개변수가 있는 생성자

  - 인자를 받아 인스턴스 변수를 초기화하는 생성자를 만들면, 인스턴스를 생성하는 동시에 해당 변수 초기화 가능

- 생성자에서 다른 생성자 호출하기

  ```java
  class Car {
      String color;
      int door;
      
      Car() {
          this("white", 4);
      }
      Car(String color) {
          this(color, 4)
      }
      Car(String color, int door) {
          this.color = color;
          this.door = door;
      }
  }
  ```

  - 생성자의 이름으로 클래스이름 대신 this를 사용
  - 한 생성자에서 다른 생성자를 호출할 때 반드시 첫 줄에서만 호출이 가능
    - 생성자에서 다른 생성자를 첫 줄에서만 호출이 가능하도록 한 이유는, 생성자 내에서 초기화 작업 도중에 다른 생성자를 호출하게 되면, 호출된 다른 생성자 내에서도 멤버변수들의 값을 초기화하므로 다른 생성자를 호출하기 이전의 초기화 작업이 무의미해질 수 있기 때문

- this

  - 참조변수로 인스턴스 자신을 가리킴. 인스턴스의 주조가 저장됨

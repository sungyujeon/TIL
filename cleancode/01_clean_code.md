# 깨끗한 코드



##### 깨끗한 코드와 나쁜 코드

- 깨끗한 코드를 정의하기 위해선 나쁜 코드란 무엇인가에 대해서 고민해볼 필요도 있다

- Leblanc's Law '나중은 절대 돌아오지 않는다'

- 나쁜 코드

  - 이전 버전에 있었던 버그가 다음 버전에도 그대로 남아 있는 경우
  - 팀 생산성을 저해하는 코드
  - 시간에 맞추어 기능을 개발하기 위해(초기 생산성을 높이기 위해) 마구잡이로 짠 코드가 시간이 지날수록 오히려 생산성을 더 떨어뜨리게 됨
  - 몇 줄만 고치면 되는줄 알았다가 수백 개의 모듈을 건드려버려야 하는 것(의존성이 높은 코드라고 생각됨)

- 깨끗한 코드

  > `열쇠는 '코드 감각'이다. 어떤 사람은 코드 감각을 타고난다. 어떤 사람은 투쟁해서 얻어야 한다.`
  >
  > 가독성, 단순함, 직접적, 추상화, 테스트 케이스, 높은 성능, 단일 책임

  - 비야네 스트롭스트룹(Bjarne Stroustrup)

    - C++ 창시자

    ```txt
    나는 우아하고 효율적인 코드를 좋아한다. 논리가 간단해야 버그가 숨어들지 못한다. 의존성을 최대한 줄여야 유지보수가 쉬워진다. 오류는 명백한 전략에 의거해 철저히 처리한다. 성능을 최적으로 유지해야 사람들이 원칙 없는 최적화로 코드를 망치려는 유혹에 빠지지 않는다. 깨끗한 코드는 한 가지를 제대로 한다.
    ```

    - 간단한 논리, 낮은 의존성, 논리적 오류 처리, 높은 성능, 단일 책임
    - 나쁜 코드는 나쁜 코드를 유혹한다!

  - 그래디 부치(Grady Booch)

    - Object Oriendted Analysis and Design with Application 저자

    ```txt
    깨끗한 코드는 단순하고 직접적이다. 깨끗한 코드는 잘 쓴 문장처럼 읽힌다. 깨끗한 코드는 결고 설계자의 의도를 숨기지 않는다. 오히려 명쾌한 추상화와 단순한 제어문으로 가득하다.
    ```

    - 가독성, 단순하고 직접적, 명쾌한 추상화, 단순한 제어문
    - 코드는 추측이 아니라 사실에 기반해야 하고, 반드시 필요한 내용만 담아야 함

  - 데이브 토마스(Dave Thomas)
    - OTI(Object Technology In) 창립자, 이클립스 전략의 대부
    
    ```txt
    깨끗한 코드는 작성자가 아닌 사람도 읽기 쉽고 고치기 쉽다. 단위 테스트 케이스와 인수 테스트 케이스가 존재한다. (중략) 특정 목적을 달성하는 방법은 하나만 제공한다. 의존성은 최소이며 각 의존성을 명확히 정의한다. (생략)
    ```
    
    - 다른 사람도 고치기 쉬운 코드, 테스트 케이스가 있는 코드, 단일 책임, 명확한 의존성, 인간이 읽기 좋은 코드

  - 마이클 페더스(Michael Feathers)

    - Working Effectively with Legacy Code 저자
    - 깨끗한 코드란 주의 깊게 짠 코드

  - 론 제프리스(Ron Jeffries)

    - 간단한 코드(모든 테스트 통과, 중복 없음, 시스템 내 모든 설계 아이디어 표현, 클래스/메서드/함수 최소화)
    - 명확한 표현(의미 있는 네이밍), 하나의 기능, 집합의 추상화(추상 메서드나 추상 클래스를 만들어 실제 구현을 감싸는 것)

  - 워드 커닝햄(Ward Cunningham)

    ```txt
    코드를 읽으면서 짐작했던 기능을 각 루틴이 그대로 수행한다면 깨끗한 코드라 불러도 되겠다. 코드가 그 문제를 풀기 위한 언어처럼 보인다면 아름다운 코드라 불러도 되겠다.
    ```



##### 프로그래머는 어떤 태도를 가져야 하는가?

- 상사나 마케팅 담당자 등이 기능을 빠르게 구현해야 한다고 하더라도 `좋은 코드를 사수하는 일`은 프로그래머의 책임
- 환자와 의사의 비유가 와닿는다. 수술 전 손을 씻지 말라는 환자 앞에서 의사는 시간이 걸리더라도 손을 씻고 수술에 임해야 한다.



##### 보이스카우트 규칙

```txt
캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라.
```

- 코드는 시간이 지나도 언제나 깨끗하게 유지해야 함

